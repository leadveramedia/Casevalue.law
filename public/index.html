<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />

    <!-- Preconnect for performance optimization -->
    <link rel="preconnect" href="https://www.googletagmanager.com" />
    <link rel="preconnect" href="https://www.google-analytics.com" />
    <link rel="dns-prefetch" href="https://www.googletagmanager.com" />
    <link rel="dns-prefetch" href="https://www.google-analytics.com" />

    <!-- Google Tag Manager - Load on First User Interaction -->
    <script>
      // Defer GTM loading until first user interaction for better performance
      function loadGTM() {
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-N4D25ZFF');
      }

      // Load GTM on first user interaction (scroll, click, mousemove, touchstart, or keydown)
      var gtmLoaded = false;
      function loadGTMOnInteraction() {
        if (!gtmLoaded) {
          gtmLoaded = true;
          loadGTM();
          // Remove event listeners after GTM is loaded
          document.removeEventListener('scroll', loadGTMOnInteraction);
          document.removeEventListener('mousemove', loadGTMOnInteraction);
          document.removeEventListener('touchstart', loadGTMOnInteraction);
          document.removeEventListener('click', loadGTMOnInteraction);
          document.removeEventListener('keydown', loadGTMOnInteraction);
        }
      }

      // Add event listeners for user interactions
      document.addEventListener('scroll', loadGTMOnInteraction, { passive: true, once: true });
      document.addEventListener('mousemove', loadGTMOnInteraction, { passive: true, once: true });
      document.addEventListener('touchstart', loadGTMOnInteraction, { passive: true, once: true });
      document.addEventListener('click', loadGTMOnInteraction, { passive: true, once: true });
      document.addEventListener('keydown', loadGTMOnInteraction, { passive: true, once: true });

      // Fallback: Load GTM after 5 seconds if no interaction
      setTimeout(function() {
        if (!gtmLoaded) {
          loadGTMOnInteraction();
        }
      }, 5000);
    </script>
    <!-- End Google Tag Manager -->

    <!-- Clarity will be loaded via Google Tag Manager for better performance -->

    <!-- Critical CSS - Inline to prevent render blocking -->
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
          Roboto, 'Helvetica Neue', Arial, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      #root {
        min-height: 100vh;
      }
    </style>

    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Free case value calculator for personal injury, employment law, and IP cases. Get an instant estimate of what your case is worth with our data-driven legal case value estimator."
    />

    <!-- Canonical URL - Managed by React Helmet for dynamic pages -->

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="CaseValue.law" />
    <meta property="og:url" content="https://casevalue.law" />
    <meta property="og:title" content="What's My Case Worth? Free Legal Case Value Calculator" />
    <meta property="og:description" content="Free case value calculator for personal injury, employment law, and IP cases. Calculate what your case is worth instantly." />
    <meta property="og:image" content="https://casevalue.law/casevalue-preview.webp" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@casevalue" />
    <meta name="twitter:url" content="https://casevalue.law" />
    <meta name="twitter:title" content="What's My Case Worth? Free Legal Case Value Calculator" />
    <meta name="twitter:description" content="Free case value calculator for personal injury, employment law, and IP cases. Calculate what your case is worth instantly." />
    <meta name="twitter:image" content="https://casevalue.law/casevalue-preview.webp" />

    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/casevalue-preview.webp" />

    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <title>What's My Case Worth? Free Legal Case Value Calculator | CaseValue.law</title>
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N4D25ZFF"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

    <!-- Hidden form for Netlify Forms detection (required for SPA) -->
    <form name="casevalue-submission" method="POST" data-netlify="true" style="display:none">
      <input type="hidden" name="form-name" value="casevalue-submission" />
      <input type="hidden" name="subject" />
      <input type="text" name="language" />
      <input type="text" name="case_type" />
      <input type="text" name="state" />
      <input type="text" name="first_name" />
      <input type="text" name="last_name" />
      <input type="email" name="email" />
      <input type="tel" name="phone" />
      <input type="text" name="consent_to_contact" />
      <textarea name="questionnaire_summary"></textarea>
      <textarea name="questionnaire_responses_json"></textarea>
      <input type="text" name="valuation_estimate" />
      <input type="text" name="valuation_low_range" />
      <input type="text" name="valuation_high_range" />
      <textarea name="valuation_factors"></textarea>
      <input type="text" name="submitted_at" />
    </form>

    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
  </body>
</html>
